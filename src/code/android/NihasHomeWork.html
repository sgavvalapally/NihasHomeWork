<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="../styles/styles.css">
    <title>Page Title</title>

    <audio id="audioGreatJob">
        <source src="content://com.android.externalstorage.documents/document/primary%3ADownload%2FGreatJob.m4a"
            type="audio/mp4">
        Your browser does not support the audio element.
    </audio>

    <audio id="audioTryAgain">
        <source src="content://com.android.externalstorage.documents/document/primary%3ADownload%2FTryAgain.m4a"
            type="audio/mp4">
        Your browser does not support the audio element.
    </audio>

    <script type="text/javascript">

        var audioGreatJobControl = document.getElementById('audioGreatJob');
        var audioTryAgainControl = document.getElementById('audioTryAgain');

        function fnSetFields() {
            var vWelcomeMessage = "<h1> Welcome Nihas ! Start your Home Work now";
            //"<h1> Welcome Neelima ! Make your selection for the homework now </h1>";
            document.getElementById("divMsgWelcome").innerHTML = vWelcomeMessage;
            document.getElementById("txtResult").value = "";
            document.getElementById("fieldA").innerHTML = Math.floor(Math.random() * 11);
            document.getElementById("fieldB").innerHTML = Math.floor(Math.random() * 11);
            document.getElementById("divMsgWelcome").style.display = "block";
            document.getElementById("divMsgCorrect").style.display = "none";
            document.getElementById("divMsgIncorrect").style.display = "none";
        }

        function fnKeyPadClick(btn_id) {

            let vPrevResult = document.getElementById("txtResult").value;
            let vNewesult = "";

            switch (btn_id) {
                case "btnX":
                    vNewesult = vPrevResult.slice(0, -1);;
                    break;
                case "btnClear":
                    vNewesult = "";
                    break;
                case "btnNeg":
                    vNewesult = "-".concat(vPrevResult);
                    break;
                default:
                    vNewesult = vPrevResult.concat(document.getElementById(btn_id).value);
                    break;
            }
            document.getElementById("txtResult").value = vNewesult;
        }

        function fnValidateResult() {

            let vSum = document.getElementById("txtResult").value;
            let vA = document.getElementById("fieldA").innerText;
            let vB = document.getElementById("fieldB").innerText;

            if (parseInt(vSum) == parseInt(vA) + parseInt(vB)) {
                fnSetFields();
                document.getElementById("divMsgWelcome").style.display = "none";
                document.getElementById("divMsgCorrect").style.display = "block";
                document.getElementById("divMsgIncorrect").style.display = "none";
                audioGreatJobControl.play();
            }
            else {
                document.getElementById("divMsgWelcome").style.display = "none";
                document.getElementById("divMsgCorrect").style.display = "none";
                document.getElementById("divMsgIncorrect").style.display = "block";
                //document.getElementById("txtResult").value="";
                audioTryAgainControl.play();
            }
        }
    </script>
</head>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<body onload="fnSetFields();">
    <div id="divWelcomeBanner">
        <div class="w3-panel w3-green" style="text-align: center ;" id="divMsgWelcome">
        </div>
    </div>
    <div id="divValidationBanner">
        <div class="w3-panel w3-green" style="text-align: center ;" id="divMsgCorrect">
            <h1>Great Job Nihas ! Try this now </h1>
        </div>
        <div class="w3-panel w3-red" style="text-align: center ;" id="divMsgIncorrect">
            <h1>Oh no ! Please try again Nihas</h1>
        </div>
    </div>

    <div id="divCalculationFields" class="CalculationText">
        <table>
            <tr>
                <td id="fieldA"></td>
                <td>+</td>
                <td id="fieldB"></td>
                <td>=</td>
                <td>
                    <input type="text" id="txtResult" readonly>
                </td>
            </tr>
        </table>
    </div>

    <div id="divKeyPad" style="margin:0 auto;">
        <table>
            <tr>
                <td><input id="btn1" type="submit" value="1" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn2" type="submit" value="2" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn3" type="submit" value="3" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn4" type="submit" value="4" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn5" type="submit" value="5" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btnX" type="submit" value="<-" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btnClear" type="submit" value="Clear" onclick="fnKeyPadClick(this.id)"></td>
            </tr>
            <tr>
                <td><input id="btn6" type="submit" value="6" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn7" type="submit" value="7" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn8" type="submit" value="8" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn9" type="submit" value="9" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btn0" type="submit" value="0" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btnNeg" type="submit" value="(-)" onclick="fnKeyPadClick(this.id)"></td>
                <td><input id="btnSubmit" type="submit" value="Submit" onclick="fnValidateResult()"></td>
            </tr>
        </table>
    </div>
</body>

</html>
